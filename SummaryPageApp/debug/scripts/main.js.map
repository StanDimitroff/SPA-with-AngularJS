{"version":3,"file":"main.js","sources":["../../src/scripts/app/app.js","../../src/scripts/app/controllers/summary-controller.js","../../src/scripts/app/factories/data.js","../../src/scripts/app/services/ajax-requester.js","../../src/scripts/libs/response.js","../../src/scripts/slider-module/app.js","../../src/scripts/slider-module/controllers/_app-controller.js","../../src/scripts/slider-module/controllers/_thumbnails-controller.js","../../src/scripts/slider-module/directives/_image-directive.js","../../src/scripts/slider-module/directives/_nav-directive.js","../../src/scripts/slider-module/directives/_slider.touch-directive.js","../../src/scripts/slider-module/directives/_thumb-directive.js","../../src/scripts/slider-module/directives/_video-directive.js","../../src/scripts/slider-module/response.js","../../src/scripts/slider-module/services/_slider-service.js","../../src/scripts/slider-module/services/_thumb-service.js","../../src/scripts/slider-module/services/_thumbs.helper-service.js","../../src/scripts/slider-module/services/_thumbs.infinite.render-service.js","../../src/scripts/slider-module/services/_thumbs.render-service.js"],"names":["apiUrl","angular","module","controller","$scope","Data","loadSummaryData","summary","getData","then","data","console","log","error","sendComment","$","val","factory","AjaxRequester","apiUrlr","this","Summary","_serviceUrl","_ajaxRequester","prototype","Params","dealer","reference","u","TokenID","headers","Content-Type","url","post","result","status","config","statusText","service","$http","$q","_messages","makePostRequest","makeRequest","method","request","withCredentials","defer","success","response","resolve","reject","promise","a","b","c","d","jQuery","Zepto","ender","elo","exports","apply","arguments","call","e","length","f","i","split","g","h","push","j","k","_","cb","nodeType","l","T","devicePixelRatio","isFinite","zb","replace","m","tb","sb","toUpperCase","n","rb","toLowerCase","o","p","q","attributes","name","test","value","r","Y","dataset","s","t","setAttribute","db","getAttribute","removeAttribute","v","qb","join","w","x","window","pageXOffset","V","scrollLeft","y","pageYOffset","scrollTop","z","getBoundingClientRect","top","left","bottom","right","A","Ab","B","Bb","C","D","img","input","source","embed","track","iframe","audio","video","script","nodeName","E","TypeError","innerHTML","N","F","G","fb","gb","H","X","on","I","wb","crossover","J","W","K","ub","O","configure","verge","breakpoints","vb","reset","$e","decideValue","updateDOM","trigger","allLoaded","lazy","target","prepareData","dynamic","custom","lb","one","off","L","P","Q","R","warn","M","S","U","document","documentElement","domReady","DOMStringMap","Z","Array","Object","ab","concat","bb","toString","hasOwnProperty","isArray","eb","width","height","ratio","hb","all","ib","jb","screen","kb","mb","nb","ob","pb","create","xb","matchMedia","msMatchMedia","yb","matches","clientWidth","innerWidth","clientHeight","innerHeight","Cb","Db","Eb","band","wave","Math","min","mode","prefix","prop","keys","values","fn","newValue","currValue","aka","uid","slice","sort","pop","empty","html","deviceMin","deviceMax","noConflict","addTest","datatize","camelize","render","store","access","object","action","resize","ready","affix","sift","dpr","deletes","scrollX","scrollY","deviceW","deviceH","device","inX","inY","route","merge","media","mq","map","each","inViewport","viewportH","viewportW","body","JSON","parse","parseJSON","className","SliderHelper","ThumbsHelper","activateThumb","event","thumbs","getThumbs","isTransitionRuning","forEach","thumb","element","is","currentTarget","hasClass","setSelectedID","id","getActiveThumb","removeClass","addClass","setActiveThumb","selectThumb","directive","restrct","link","scope","el","setActiveSlide","addSlide","restrict","prevBtn","selectPrevThumb","nextBtn","selectNextThumb","swipe","swipeStatus","phase","direction","distance","triggerOnTouchEnd","triggerOnTouchLeave","threshold","attrs","thumbCount","addThumbWithId","isUndefined","isLast","setUp","get","addEventListener","showNavButtons","hideNavButtons","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","animateSlide","transitioningSlide","tl","TimelineLite","onComplete","onCompleteAnimation","to","activeSlide","scale","clearProps","ease","Power4","easeOut","from","opacity","Power2","isTransitioning","play","css","slides","activateSlide","index","slide","Thumb","Render","InfiniteRender","calculateSizes","firstThumb","containerWidth","container","outerWidth","containerCenter","parseInt","halfContainer","thumbWidth","thumbLeftOffset","maxThumbs","round","makeRender","selectedID","renderThumb","activeThumb","thumbElement","closest","Response","selectThumbWithID","makeSelectionForNewID","newID","newActiveThumb","getVisibleThumbs","thumbsClone","visibleThumbs","visibleIDs","indexOf","splice","hideThumbs","hideLeft","placeThumbs","startX","getStartX","getLeftForVisibleThumb","oldVisibleThumbs","visibleThumbsCount","collectRightAndLeftIDs","maxSideThumbs","rightIDs","leftIDs","thumbsCount","count","reverse","allThumbs","maxThumbsCount","thWidth","cntWidth","position","numOfThumbs","thumbsWidth","startLeft","thumbLeft"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nvar apiUrl = 'https://api.video1st.com/Video1st/GetSummaryData';\r\n\r\nangular.module('SummaryPage', ['Page.controllers', 'Page.factories', 'Page.services', 'Slider']);\r\n\r\n// Controllers module\r\nangular.module('Page.controllers', []);\r\n\r\n// Factories module\r\nangular.module('Page.factories', []);\r\n\r\n// Services module\r\nangular.module('Page.services', []);\r\n\r\n// Slider module\r\nangular.module('Slider', []);\r\n","'use strict';\r\n\r\nangular.module('Page.controllers')\r\n\r\n.controller('SummaryController', ['$scope', 'Data', function($scope, Data) {\r\n    $scope.loadSummaryData = function() {\r\n        Data.summary.getData()\r\n        .then(function(data){\r\n            console.log(data);\r\n            // $scope.summaryData = data;\r\n            // $scope.event = summaryData.Event;\r\n            // $scope.advisor = summaryData.Advisor;\r\n            // $scope.VehicleRunningCosts = summaryData.VehicleRunningCosts;\r\n            // $scope.comments = summaryData.Comments;\r\n            // $scope.vehicleDetails = summaryData.VehicleDetails;\r\n            // $scope.ancillaryInfo = summaryData.AncillaryInformation;\r\n            // $scope.ownership = summaryData.Ownership;\r\n            // $scope.consumption = summaryData.Consumption;\r\n            // $scope.photos = summaryData.Photos;\r\n            // $scope.videos = summaryData.Videos;\r\n            // $scope.thumbnails = $scope.photos.concat($scope.videos);\r\n\r\n        }, function(error){\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    $scope.sendComment = function(){\r\n        var comment = $('#comment').val();\r\n        Data.summary.sendComment()\r\n        .then(function(data){\r\n            console.log(data);\r\n        }, function(error){\r\n            console.log(error);\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n}]);\r\n","'use strict';\r\n\r\nangular.module('Page.factories')\r\n\r\n.factory('Data', ['AjaxRequester', function(AjaxRequester) {\r\n    function Data(apiUrlr) {\r\n        //this.credentials = new credentials();\r\n        this.summary = new Summary(apiUrl);\r\n    }\r\n\r\n    var Summary = (function() {\r\n        function Summary(apiUrl) {\r\n            this._serviceUrl = apiUrl;\r\n            this._ajaxRequester = AjaxRequester;\r\n            //this._headers = globalCredentials.getHeaders;\r\n        }\r\n\r\n        Summary.prototype.getData = function() {\r\n            var data = {\r\n                \"Params\": {\r\n                    \"dealer\": \"demosite\",\r\n                    \"reference\": \"16wt-63\",\r\n                    \"u\": 7858\r\n                },\r\n                \"TokenID\": \"1D96DF6C7E5471F66D6D45135EE5C517E5A562BC941CB5E7379F340B96FC490B\"\r\n            };\r\n\r\n            var headers = {\r\n                \"Content-Type\": 'application/json',\r\n\r\n\r\n            }\r\n            var url = this._serviceUrl;\r\n            return this._ajaxRequester.post(url, data, headers)\r\n                .\r\n            then(function(result, status, headers, config) {\r\n                if (headers(\"Content-type\") != \"application/json; charset=utf-8\" && typeof(sessionTokenID) != \"string\") {\r\n                    //handleError(result, status, headers, config, \"OK\");\r\n                    return result;\r\n                }\r\n            }, function(error, status, headers, config, statusText) {\r\n                //handleError(error, status, headers, config, statusText);\r\n            });\r\n\r\n            // .then(function(data) {\r\n            //     return data;\r\n            // }, function(error) {\r\n            //     return error;\r\n            // });\r\n        }\r\n\r\n\r\n        Summary.prototype.sendComment = function(){\r\n\r\n        }\r\n\r\n        return Summary;\r\n    }());\r\n\r\n\r\n    return new Data(apiUrl);\r\n}]);\r\n","'use strict';\r\n\r\nangular.module('Page.services')\r\n\r\n.service('AjaxRequester', ['$http', '$q', function($http, $q) {\r\n    function AjaxRequester(_messages) {\r\n        this.post = makePostRequest;\r\n        //messages = _messages\r\n    }\r\n\r\n    var makeRequest = function(url, method, data, headers) {\r\n        var request = {\r\n                method: method,\r\n                url: url,\r\n                headers: headers,\r\n                data: data,\r\n                withCredentials: true\r\n            }\r\n\r\n\r\n        var defer = $q.defer();\r\n        $http(request)\r\n            .success(function(response) {\r\n                defer.resolve(response);\r\n            })\r\n            .error(function(error, status, headers, config, statusText) {\r\n                //handleError(error, status, headers, config, statusText);\r\n                //   var errorMessage = 'The system experienced an unhandled exception (Server side).';\r\n                //\r\n                //   if (response == null) {\r\n                //     errorMessage = 'Please check your network connection.'\r\n                //   } else if (response.error_description) {\r\n                //     errorMessage = response.error_description;\r\n                //   } else if (response.modelState && response.modelState.status) {\r\n                //     errorMessage = response.modelState.status;\r\n                //   } else if (response.modelState && response.modelState[''].length > 0) {\r\n                //     errorMessage = $(\"<ul/>\");\r\n                //     for (var e = 0; e < response.modelState[''].length; e++) {\r\n                //       errorMessage.append($('<li>' + response.modelState[''][e] + '</li>'));\r\n                //     }\r\n                //     errorMessage = errorMessage.prop('outerHTML');\r\n                //   }\r\n                //   messages.errorMessage(errorMessage);\r\n                defer.reject(error);\r\n            });\r\n\r\n        return defer.promise;\r\n    }\r\n\r\n    function handleError(error, status, headers, config, statusText) {\r\n        var isJson = headers(\"Content-type\") == \"application/json; charset=utf-8\";\r\n        if (typeof(sessionTokenID) == \"string\") {\r\n            isJson = true;\r\n        }\r\n        if (status == 200 && !isJson) {\r\n            status = 302;\r\n        }\r\n\r\n        if (status >= 300 && status <= 310) {\r\n            var location = headers(\"Location\");\r\n            if (location == null) {\r\n                location = \"/\";\r\n            }\r\n\r\n            window.location.replace(location);\r\n            return;\r\n        } else if (status == 401 || status == 403) {\r\n            console.log('Your session has timeout.')\r\n            window.location.reload()\r\n        } else if (status == 405) {\r\n            if (isJson) {\r\n                console.log(error);\r\n            } else {\r\n                console.log(statusText);\r\n            }\r\n        } else if (status != 406) {\r\n            console.log(error ? error : statusText);\r\n        }\r\n\r\n        //  Error.openModal();\r\n    }\r\n\r\n    var makePostRequest = function(url, data, headers) {\r\n        return makeRequest(url, 'POST', data, headers);\r\n    }\r\n\r\n    return new AjaxRequester();\r\n}]);\r\n","/*!\r\n * response.js 0.9.1+201410311050\r\n * https://github.com/ryanve/response.js\r\n * MIT License (c) 2014 Ryan Van Etten\r\n */\r\n!function(a,b,c){var d=a.jQuery||a.Zepto||a.ender||a.elo;\"undefined\"!=typeof module&&module.exports?module.exports=c(d):a[b]=c(d)}(this,\"Response\",function(a){function b(a){return a===+a}function c(a,b){return function(){return a.apply(b,arguments)}}function d(a,b){var c=this.call();return c>=(a||0)&&(!b||b>=c)}function e(a,b,c){for(var d=[],e=a.length,f=0;e>f;)d[f]=b.call(c,a[f],f++,a);return d}function f(a){return a?i(\"string\"==typeof a?a.split(\" \"):a):[]}function g(a,b,c){if(null==a)return a;for(var d=a.length,e=0;d>e;)b.call(c||a[e],a[e],e++,a);return a}function h(a,b,c){null==b&&(b=\"\"),null==c&&(c=\"\");for(var d=[],e=a.length,f=0;e>f;f++)null==a[f]||d.push(b+a[f]+c);return d}function i(a,b,c){var d,e,f,g=[],h=0,i=0,j=\"function\"==typeof b,k=!0===c;for(e=a&&a.length,c=k?null:c;e>i;i++)f=a[i],d=j?!b.call(c,f,i,a):b?typeof f!==b:!f,d===k&&(g[h++]=f);return g}function j(a,c){if(null==a||null==c)return a;if(\"object\"==typeof c&&b(c.length))_.apply(a,i(c,\"undefined\",!0));else for(var d in c)cb.call(c,d)&&void 0!==c[d]&&(a[d]=c[d]);return a}function k(a,c,d){return null==a?a:(\"object\"==typeof a&&!a.nodeType&&b(a.length)?g(a,c,d):c.call(d||a,a),a)}function l(a){var b=T.devicePixelRatio;return null==a?b||(l(2)?2:l(1.5)?1.5:l(1)?1:0):isFinite(a)?b&&b>0?b>=a:(a=\"only all and (min--moz-device-pixel-ratio:\"+a+\")\",zb(a)?!0:zb(a.replace(\"-moz-\",\"\"))):!1}function m(a){return a.replace(tb,\"$1\").replace(sb,function(a,b){return b.toUpperCase()})}function n(a){return\"data-\"+(a?a.replace(tb,\"$1\").replace(rb,\"$1-$2\").toLowerCase():a)}function o(a){var b;return\"string\"==typeof a&&a?\"false\"===a?!1:\"true\"===a?!0:\"null\"===a?null:\"undefined\"===a||(b=+a)||0===b||\"NaN\"===a?b:a:a}function p(a){return!a||a.nodeType?a:a[0]}function q(a,b,c){var d,e,f,g,h;if(a.attributes)for(d=\"boolean\"==typeof c?/^data-/:d,g=0,h=a.attributes.length;h>g;)(f=a.attributes[g++])&&(e=\"\"+f.name,d&&d.test(e)!==c||null==f.value||b.call(a,f.value,e,f))}function r(a){var b;if(a&&1===a.nodeType)return(b=Y&&a.dataset)?b:(b={},q(a,function(a,c){b[m(c)]=\"\"+a},!0),b)}function s(a,b,c){for(var d in b)cb.call(b,d)&&c(a,d,b[d])}function t(a,b,c){if(a=p(a),a&&a.setAttribute){if(void 0===b&&c===b)return r(a);var d=db(b)&&n(b[0]);if(\"object\"!=typeof b||d){if(b=d||n(b),!b)return;return void 0===c?(b=a.getAttribute(b),null==b?c:d?o(b):\"\"+b):(a.setAttribute(b,c=\"\"+c),c)}b&&s(a,b,t)}}function u(a,b){b=f(b),k(a,function(a){g(b,function(b){a.removeAttribute(n(b))})})}function v(a){for(var b,c=[],d=0,e=a.length;e>d;)(b=a[d++])&&c.push(\"[\"+n(b.replace(qb,\"\").replace(\".\",\"\\\\.\"))+\"]\");return c.join()}function w(b){return a(v(f(b)))}function x(){return window.pageXOffset||V.scrollLeft}function y(){return window.pageYOffset||V.scrollTop}function z(a,b){var c=a.getBoundingClientRect?a.getBoundingClientRect():{};return b=\"number\"==typeof b?b||0:0,{top:(c.top||0)-b,left:(c.left||0)-b,bottom:(c.bottom||0)+b,right:(c.right||0)+b}}function A(a,b){var c=z(p(a),b);return!!c&&c.right>=0&&c.left<=Ab()}function B(a,b){var c=z(p(a),b);return!!c&&c.bottom>=0&&c.top<=Bb()}function C(a,b){var c=z(p(a),b);return!!c&&c.bottom>=0&&c.top<=Bb()&&c.right>=0&&c.left<=Ab()}function D(a){var b={img:1,input:1,source:3,embed:3,track:3,iframe:5,audio:5,video:5,script:5},c=b[a.nodeName.toLowerCase()]||-1;return 4>c?c:null!=a.getAttribute(\"src\")?5:-5}function E(a,b,c){var d;if(!a||null==b)throw new TypeError(\"@store\");return c=\"string\"==typeof c&&c,k(a,function(a){d=c?a.getAttribute(c):0<D(a)?a.getAttribute(\"src\"):a.innerHTML,null==d?u(a,b):t(a,b,d)}),N}function F(a,b){var c=[];return a&&b&&g(f(b),function(b){c.push(t(a,b))},a),c}function G(a,b){return\"string\"==typeof a&&\"function\"==typeof b&&(fb[a]=b,gb[a]=1),N}function H(a){return X.on(\"resize\",a),N}function I(a,b){var c,d,e=wb.crossover;return\"function\"==typeof a&&(c=b,b=a,a=c),d=a?\"\"+a+e:e,X.on(d,b),N}function J(a){return k(a,function(a){W(a),H(a)}),N}function K(a){return k(a,function(a){if(\"object\"!=typeof a)throw new TypeError(\"@create\");var b,c=ub(O).configure(a),d=c.verge,e=c.breakpoints,f=vb(\"scroll\"),h=vb(\"resize\");e.length&&(b=e[0]||e[1]||!1,W(function(){function a(){c.reset(),g(c.$e,function(a,b){c[b].decideValue().updateDOM()}).trigger(i)}function e(){g(c.$e,function(a,b){C(c[b].$e,d)&&c[b].updateDOM()})}var i=wb.allLoaded,j=!!c.lazy;g(c.target().$e,function(a,b){c[b]=ub(c).prepareData(a),(!j||C(c[b].$e,d))&&c[b].updateDOM()}),c.dynamic&&(c.custom||lb>b)&&H(a,h),j&&(X.on(f,e),c.$e.one(i,function(){X.off(f,e)}))}))}),N}function L(a){return P[Q]===N&&(P[Q]=R),\"function\"==typeof a&&a.call(P,N),N}if(\"function\"!=typeof a)try{return void console.warn(\"response.js aborted due to missing dependency\")}catch(M){}var N,O,P=this,Q=\"Response\",R=P[Q],S=\"init\"+Q,T=window,U=document,V=U.documentElement,W=a.domReady||a,X=a(T),Y=\"undefined\"!=typeof DOMStringMap,Z=Array.prototype,$=Object.prototype,_=Z.push,ab=Z.concat,bb=$.toString,cb=$.hasOwnProperty,db=Array.isArray||function(a){return\"[object Array]\"===bb.call(a)},eb={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},fb={},gb={},hb={all:[]},ib=1,jb=screen.width,kb=screen.height,lb=jb>kb?jb:kb,mb=jb+kb-lb,nb=function(){return jb},ob=function(){return kb},pb=/[^a-z0-9_\\-\\.]/gi,qb=/^[\\W\\s]+|[\\W\\s]+$|/g,rb=/([a-z])([A-Z])/g,sb=/-(.)/g,tb=/^data-(.+)$/,ub=Object.create||function(a){function b(){}return b.prototype=a,new b},vb=function(a,b){return b=b||Q,a.replace(qb,\"\")+\".\"+b.replace(qb,\"\")},wb={allLoaded:vb(\"allLoaded\"),crossover:vb(\"crossover\")},xb=T.matchMedia||T.msMatchMedia,yb=xb?c(xb,T):function(){return{}},zb=xb?function(a){return!!xb.call(T,a).matches}:function(){return!1},Ab=function(){var a=V.clientWidth,b=T.innerWidth;return b>a?b:a},Bb=function(){var a=V.clientHeight,b=T.innerHeight;return b>a?b:a},Cb=c(d,Ab),Db=c(d,Bb),Eb={band:c(d,nb),wave:c(d,ob)};return O=function(){function b(a){return\"string\"==typeof a?a.toLowerCase().replace(pb,\"\"):\"\"}function c(a,b){return a-b}var d=wb.crossover,k=Math.min;return{$e:0,mode:0,breakpoints:null,prefix:null,prop:\"width\",keys:[],dynamic:null,custom:0,values:[],fn:0,verge:null,newValue:0,currValue:1,aka:null,lazy:null,i:0,uid:null,reset:function(){for(var a=this.breakpoints,b=a.length,c=0;!c&&b--;)this.fn(a[b])&&(c=b);return c!==this.i&&(X.trigger(d).trigger(this.prop+d),this.i=c||0),this},configure:function(a){j(this,a);var d,l,m,n,o,p=!0,q=this.prop;if(this.uid=ib++,null==this.verge&&(this.verge=k(lb,500)),!(this.fn=fb[q]))throw new TypeError(\"@create\");if(null==this.dynamic&&(this.dynamic=\"device\"!==q.slice(0,6)),this.custom=gb[q],m=this.prefix?i(e(f(this.prefix),b)):[\"min-\"+q+\"-\"],n=1<m.length?m.slice(1):0,this.prefix=m[0],l=this.breakpoints,db(l)){if(g(l,function(a){if(!a&&0!==a)throw\"invalid breakpoint\";p=p&&isFinite(a)}),p&&l.sort(c),!l.length)throw new TypeError(\".breakpoints\")}else if(l=eb[q]||eb[q.split(\"-\").pop()],!l)throw new TypeError(\".prop\");if(this.breakpoints=l,this.keys=h(this.breakpoints,this.prefix),this.aka=null,n){for(o=[],d=n.length;d--;)o.push(h(this.breakpoints,n[d]));this.aka=o,this.keys=ab.apply(this.keys,o)}return hb.all=hb.all.concat(hb[this.uid]=this.keys),this},target:function(){return this.$e=a(v(hb[this.uid])),E(this.$e,S),this.keys.push(S),this},decideValue:function(){for(var a=null,b=this.breakpoints,c=b.length,d=c;null==a&&d--;)this.fn(b[d])&&(a=this.values[d]);return this.newValue=\"string\"==typeof a?a:this.values[c],this},prepareData:function(b){if(this.$e=a(b),this.mode=D(b),this.values=F(this.$e,this.keys),this.aka)for(var c=this.aka.length;c--;)this.values=j(this.values,F(this.$e,this.aka[c]));return this.decideValue()},updateDOM:function(){return this.currValue===this.newValue?this:(this.currValue=this.newValue,0<this.mode?this.$e[0].setAttribute(\"src\",this.newValue):null==this.newValue?this.$e.empty&&this.$e.empty():this.$e.html?this.$e.html(this.newValue):(this.$e.empty&&this.$e.empty(),this.$e[0].innerHTML=this.newValue),this)}}}(),fb.width=Cb,fb.height=Db,fb[\"device-width\"]=Eb.band,fb[\"device-height\"]=Eb.wave,fb[\"device-pixel-ratio\"]=l,N={deviceMin:function(){return mb},deviceMax:function(){return lb},noConflict:L,create:K,addTest:G,datatize:n,camelize:m,render:o,store:E,access:F,target:w,object:ub,crossover:I,action:J,resize:H,ready:W,affix:h,sift:i,dpr:l,deletes:u,scrollX:x,scrollY:y,deviceW:nb,deviceH:ob,device:Eb,inX:A,inY:B,route:k,merge:j,media:yb,mq:zb,wave:Db,band:Cb,map:e,each:g,inViewport:C,dataset:t,viewportH:Bb,viewportW:Ab},W(function(){var b=t(U.body,\"responsejs\"),c=T.JSON&&JSON.parse||a.parseJSON;b=b&&c?c(b):b,b&&b.create&&K(b.create),V.className=V.className.replace(/(^|\\s)(no-)?responsejs(\\s|$)/,\"$1$3\")+\" responsejs \"}),N});","// responsejs - www.responsejs.com\r\n// -------------------\r\n// @koala-append \"../../response.js\"\r\n\r\n// Controllers\r\n// -------------------\r\n// @koala-append \"controllers/_app-controller.js\"\r\n// @koala-append \"controllers/_thumbnails-controller.js\"\r\n\r\n// Directives\r\n// -------------------\r\n// @koala-append \"directives/_thumb-directive.js\"\r\n// @koala-append \"directives/_image-directive.js\"\r\n// @koala-append \"directives/_nav-directive.js\"\r\n// @koala-append \"directives/_slider.touch-directive.js\"\r\n// @koala-append \"directives/_video-directive.js\"\r\n\r\n// Services\r\n// -------------------\r\n// @koala-append \"services/_thumbs.helper-service.js\"\r\n// @koala-append \"services/_thumb-service.js\"\r\n// @koala-append \"services/_thumbs.render-service.js\"\r\n// @koala-append \"services/_thumbs.infinite.render-service.js\"\r\n// @koala-append \"services/_slider-service.js\"\r\n\r\nangular.module(\"Slider\", [\"Slider.controllers\", \"Slider.directives\", \"Slider.services\"]);\r\n\r\n// Controllers module\r\nangular.module(\"Slider.controllers\", []);\r\n\r\n// Directives module\r\nangular.module(\"Slider.directives\", []);\r\n\r\n// Sevices module\r\nangular.module(\"Slider.services\", []);\r\n","angular.module(\"Slider.controllers\").\r\n\r\ncontroller(\"AppController\", [\"$scope\", \"SliderHelper\", \"ThumbsHelper\", function ($scope, SliderHelper, ThumbsHelper) {\r\n    $scope.SliderHelper = SliderHelper;\r\n    $scope.ThumbsHelper = ThumbsHelper;\r\n}]);","angular.module(\"Slider.controllers\").\r\n\r\ncontroller(\"ThumbnailCtrl\", [\"$scope\", \"ThumbsHelper\", \"SliderHelper\", function ($scope, ThumbsHelper, SliderHelper) {\r\n    \r\n//    ThumbsHelper.setContainer( $(\".gallery-thumbs ul\") );\r\n    \r\n    $scope.ThumbsHelper = ThumbsHelper;\r\n//    console.log($scope.$parent);\r\n    \r\n    $scope.activateThumb = function (event) {\r\n        var thumbs = ThumbsHelper.getThumbs();\r\n        \r\n//        console.log(SliderHelper.isTransitionRuning());\r\n        \r\n        if (!SliderHelper.isTransitionRuning()) {\r\n            thumbs.forEach(function (thumb) {\r\n                if (thumb.element.is($(event.currentTarget))) {\r\n                    if (!thumb.element.hasClass(\"active\")) {\r\n                        ThumbsHelper.setSelectedID(thumb.id);\r\n                        ThumbsHelper.getActiveThumb().removeClass(\"active\")\r\n                        thumb.element.addClass(\"active\");\r\n                        ThumbsHelper.setActiveThumb(thumb.element);\r\n                        ThumbsHelper.selectThumb();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}]);","angular.module(\"Slider.directives\").\r\n\r\ndirective(\"image\", function () {\r\n    return {\r\n        restrct: \"A\",\r\n        link: function(scope, element) {\r\n            var el = $(element);\r\n            \r\n            if (el.hasClass(\"active\")) {\r\n                scope.SliderHelper.setActiveSlide(el);    \r\n            }\r\n            \r\n            scope.SliderHelper.addSlide(el);\r\n        }\r\n    }\r\n});","angular.module(\"Slider.directives\").\r\n\r\ndirective(\"sliderNav\", function () {\r\n    return {\r\n        restrict: \"A\",\r\n        link: function (scope, element) {\r\n            var el = $(element);\r\n            \r\n            if (el.hasClass(\"prev\")) {\r\n                scope.SliderHelper.prevBtn = element;\r\n                \r\n                el.on(\"click\", function () {\r\n                    \r\n                    if (!scope.SliderHelper.isTransitionRuning()) {\r\n                        scope.ThumbsHelper.selectPrevThumb();\r\n                    }\r\n                });\r\n            }\r\n            \r\n            if (el.hasClass(\"next\")) {\r\n                scope.SliderHelper.nextBtn = element;\r\n                \r\n                el.on(\"click\", function () {\r\n                    if (!scope.SliderHelper.isTransitionRuning()) {\r\n                        scope.ThumbsHelper.selectNextThumb();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n});","angular.module(\"Slider.directives\").\r\n\r\ndirective(\"sliderTouch\", function () {\r\n    return {\r\n        restrict: \"A\",\r\n        link: function (scope, element) {\r\n            var el = $(element);\r\n            \r\n            el.swipe({\r\n                \r\n                swipeStatus:function(event, phase, direction, distance)\r\n                {\r\n\r\n                    if (phase == \"end\") {\r\n                        if (!scope.SliderHelper.isTransitionRuning()) {\r\n                            if (direction === \"left\") {\r\n                                scope.ThumbsHelper.selectPrevThumb();\r\n                            }\r\n\r\n                            if (direction === \"right\") {\r\n                                scope.ThumbsHelper.selectNextThumb();\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                triggerOnTouchEnd: false,\r\n                triggerOnTouchLeave: true,\r\n                threshold: 150\r\n            });\r\n        }\r\n    }\r\n});","angular.module(\"Slider.directives\").\r\n\r\ndirective(\"thumb\", function () {\r\n    return {\r\n        restrict: \"A\",\r\n        link: function (scope, element, attrs) {\r\n            var id = null;\r\n            \r\n            if (scope.ThumbsHelper.thumbCount == 0) {\r\n                id = 0;\r\n                scope.ThumbsHelper.addThumbWithId(id, element);                \r\n                scope.ThumbsHelper.thumbCount++;\r\n            } else {\r\n                id = scope.ThumbsHelper.thumbCount++;\r\n                scope.ThumbsHelper.addThumbWithId(id, element);\r\n            }\r\n            \r\n            // check for the last item\r\n            if (!angular.isUndefined( attrs.isLast ) && attrs.isLast === \"true\" ) {\r\n//                console.log(\"Last\");\r\n                scope.ThumbsHelper.setUp();\r\n            }\r\n            \r\n            if (element.hasClass(\"active\")) {\r\n                scope.ThumbsHelper.setSelectedID(id);\r\n                scope.ThumbsHelper.setActiveThumb($(element));\r\n            }\r\n        }\r\n    }\r\n});","angular.module(\"Slider.directives\").\r\n\r\n\r\ndirective(\"video\", function () {\r\n    return {\r\n        restrict: \"A\",\r\n        link: function (scope, element) {\r\n            var v = element.get(0);\r\n            \r\n            v.addEventListener(\"pause\", function () {\r\n                scope.SliderHelper.showNavButtons();\r\n            });\r\n            v.addEventListener(\"playing\", function () {\r\n                scope.SliderHelper.hideNavButtons();\r\n            });\r\n            \r\n            // Exit Full Screen on video ending.\r\n            v.addEventListener(\"ended\", function () {                \r\n                if (document.exitFullscreen) {\r\n                    document.exitFullscreen();\r\n                } else if (document.msExitFullscreen) {\r\n                    document.msExitFullscreen();\r\n                } else if (document.mozCancelFullScreen) {\r\n                    document.mozCancelFullScreen();\r\n                } else if (document.webkitExitFullscreen) {\r\n                    document.webkitExitFullscreen();\r\n                }\r\n            });\r\n        }\r\n    }\r\n});","/*!\r\n * response.js 0.9.1+201410311050\r\n * https://github.com/ryanve/response.js\r\n * MIT License (c) 2014 Ryan Van Etten\r\n */\r\n!function(a,b,c){var d=a.jQuery||a.Zepto||a.ender||a.elo;\"undefined\"!=typeof module&&module.exports?module.exports=c(d):a[b]=c(d)}(this,\"Response\",function(a){function b(a){return a===+a}function c(a,b){return function(){return a.apply(b,arguments)}}function d(a,b){var c=this.call();return c>=(a||0)&&(!b||b>=c)}function e(a,b,c){for(var d=[],e=a.length,f=0;e>f;)d[f]=b.call(c,a[f],f++,a);return d}function f(a){return a?i(\"string\"==typeof a?a.split(\" \"):a):[]}function g(a,b,c){if(null==a)return a;for(var d=a.length,e=0;d>e;)b.call(c||a[e],a[e],e++,a);return a}function h(a,b,c){null==b&&(b=\"\"),null==c&&(c=\"\");for(var d=[],e=a.length,f=0;e>f;f++)null==a[f]||d.push(b+a[f]+c);return d}function i(a,b,c){var d,e,f,g=[],h=0,i=0,j=\"function\"==typeof b,k=!0===c;for(e=a&&a.length,c=k?null:c;e>i;i++)f=a[i],d=j?!b.call(c,f,i,a):b?typeof f!==b:!f,d===k&&(g[h++]=f);return g}function j(a,c){if(null==a||null==c)return a;if(\"object\"==typeof c&&b(c.length))_.apply(a,i(c,\"undefined\",!0));else for(var d in c)cb.call(c,d)&&void 0!==c[d]&&(a[d]=c[d]);return a}function k(a,c,d){return null==a?a:(\"object\"==typeof a&&!a.nodeType&&b(a.length)?g(a,c,d):c.call(d||a,a),a)}function l(a){var b=T.devicePixelRatio;return null==a?b||(l(2)?2:l(1.5)?1.5:l(1)?1:0):isFinite(a)?b&&b>0?b>=a:(a=\"only all and (min--moz-device-pixel-ratio:\"+a+\")\",zb(a)?!0:zb(a.replace(\"-moz-\",\"\"))):!1}function m(a){return a.replace(tb,\"$1\").replace(sb,function(a,b){return b.toUpperCase()})}function n(a){return\"data-\"+(a?a.replace(tb,\"$1\").replace(rb,\"$1-$2\").toLowerCase():a)}function o(a){var b;return\"string\"==typeof a&&a?\"false\"===a?!1:\"true\"===a?!0:\"null\"===a?null:\"undefined\"===a||(b=+a)||0===b||\"NaN\"===a?b:a:a}function p(a){return!a||a.nodeType?a:a[0]}function q(a,b,c){var d,e,f,g,h;if(a.attributes)for(d=\"boolean\"==typeof c?/^data-/:d,g=0,h=a.attributes.length;h>g;)(f=a.attributes[g++])&&(e=\"\"+f.name,d&&d.test(e)!==c||null==f.value||b.call(a,f.value,e,f))}function r(a){var b;if(a&&1===a.nodeType)return(b=Y&&a.dataset)?b:(b={},q(a,function(a,c){b[m(c)]=\"\"+a},!0),b)}function s(a,b,c){for(var d in b)cb.call(b,d)&&c(a,d,b[d])}function t(a,b,c){if(a=p(a),a&&a.setAttribute){if(void 0===b&&c===b)return r(a);var d=db(b)&&n(b[0]);if(\"object\"!=typeof b||d){if(b=d||n(b),!b)return;return void 0===c?(b=a.getAttribute(b),null==b?c:d?o(b):\"\"+b):(a.setAttribute(b,c=\"\"+c),c)}b&&s(a,b,t)}}function u(a,b){b=f(b),k(a,function(a){g(b,function(b){a.removeAttribute(n(b))})})}function v(a){for(var b,c=[],d=0,e=a.length;e>d;)(b=a[d++])&&c.push(\"[\"+n(b.replace(qb,\"\").replace(\".\",\"\\\\.\"))+\"]\");return c.join()}function w(b){return a(v(f(b)))}function x(){return window.pageXOffset||V.scrollLeft}function y(){return window.pageYOffset||V.scrollTop}function z(a,b){var c=a.getBoundingClientRect?a.getBoundingClientRect():{};return b=\"number\"==typeof b?b||0:0,{top:(c.top||0)-b,left:(c.left||0)-b,bottom:(c.bottom||0)+b,right:(c.right||0)+b}}function A(a,b){var c=z(p(a),b);return!!c&&c.right>=0&&c.left<=Ab()}function B(a,b){var c=z(p(a),b);return!!c&&c.bottom>=0&&c.top<=Bb()}function C(a,b){var c=z(p(a),b);return!!c&&c.bottom>=0&&c.top<=Bb()&&c.right>=0&&c.left<=Ab()}function D(a){var b={img:1,input:1,source:3,embed:3,track:3,iframe:5,audio:5,video:5,script:5},c=b[a.nodeName.toLowerCase()]||-1;return 4>c?c:null!=a.getAttribute(\"src\")?5:-5}function E(a,b,c){var d;if(!a||null==b)throw new TypeError(\"@store\");return c=\"string\"==typeof c&&c,k(a,function(a){d=c?a.getAttribute(c):0<D(a)?a.getAttribute(\"src\"):a.innerHTML,null==d?u(a,b):t(a,b,d)}),N}function F(a,b){var c=[];return a&&b&&g(f(b),function(b){c.push(t(a,b))},a),c}function G(a,b){return\"string\"==typeof a&&\"function\"==typeof b&&(fb[a]=b,gb[a]=1),N}function H(a){return X.on(\"resize\",a),N}function I(a,b){var c,d,e=wb.crossover;return\"function\"==typeof a&&(c=b,b=a,a=c),d=a?\"\"+a+e:e,X.on(d,b),N}function J(a){return k(a,function(a){W(a),H(a)}),N}function K(a){return k(a,function(a){if(\"object\"!=typeof a)throw new TypeError(\"@create\");var b,c=ub(O).configure(a),d=c.verge,e=c.breakpoints,f=vb(\"scroll\"),h=vb(\"resize\");e.length&&(b=e[0]||e[1]||!1,W(function(){function a(){c.reset(),g(c.$e,function(a,b){c[b].decideValue().updateDOM()}).trigger(i)}function e(){g(c.$e,function(a,b){C(c[b].$e,d)&&c[b].updateDOM()})}var i=wb.allLoaded,j=!!c.lazy;g(c.target().$e,function(a,b){c[b]=ub(c).prepareData(a),(!j||C(c[b].$e,d))&&c[b].updateDOM()}),c.dynamic&&(c.custom||lb>b)&&H(a,h),j&&(X.on(f,e),c.$e.one(i,function(){X.off(f,e)}))}))}),N}function L(a){return P[Q]===N&&(P[Q]=R),\"function\"==typeof a&&a.call(P,N),N}if(\"function\"!=typeof a)try{return void console.warn(\"response.js aborted due to missing dependency\")}catch(M){}var N,O,P=this,Q=\"Response\",R=P[Q],S=\"init\"+Q,T=window,U=document,V=U.documentElement,W=a.domReady||a,X=a(T),Y=\"undefined\"!=typeof DOMStringMap,Z=Array.prototype,$=Object.prototype,_=Z.push,ab=Z.concat,bb=$.toString,cb=$.hasOwnProperty,db=Array.isArray||function(a){return\"[object Array]\"===bb.call(a)},eb={width:[0,320,481,641,961,1025,1281],height:[0,481],ratio:[1,1.5,2]},fb={},gb={},hb={all:[]},ib=1,jb=screen.width,kb=screen.height,lb=jb>kb?jb:kb,mb=jb+kb-lb,nb=function(){return jb},ob=function(){return kb},pb=/[^a-z0-9_\\-\\.]/gi,qb=/^[\\W\\s]+|[\\W\\s]+$|/g,rb=/([a-z])([A-Z])/g,sb=/-(.)/g,tb=/^data-(.+)$/,ub=Object.create||function(a){function b(){}return b.prototype=a,new b},vb=function(a,b){return b=b||Q,a.replace(qb,\"\")+\".\"+b.replace(qb,\"\")},wb={allLoaded:vb(\"allLoaded\"),crossover:vb(\"crossover\")},xb=T.matchMedia||T.msMatchMedia,yb=xb?c(xb,T):function(){return{}},zb=xb?function(a){return!!xb.call(T,a).matches}:function(){return!1},Ab=function(){var a=V.clientWidth,b=T.innerWidth;return b>a?b:a},Bb=function(){var a=V.clientHeight,b=T.innerHeight;return b>a?b:a},Cb=c(d,Ab),Db=c(d,Bb),Eb={band:c(d,nb),wave:c(d,ob)};return O=function(){function b(a){return\"string\"==typeof a?a.toLowerCase().replace(pb,\"\"):\"\"}function c(a,b){return a-b}var d=wb.crossover,k=Math.min;return{$e:0,mode:0,breakpoints:null,prefix:null,prop:\"width\",keys:[],dynamic:null,custom:0,values:[],fn:0,verge:null,newValue:0,currValue:1,aka:null,lazy:null,i:0,uid:null,reset:function(){for(var a=this.breakpoints,b=a.length,c=0;!c&&b--;)this.fn(a[b])&&(c=b);return c!==this.i&&(X.trigger(d).trigger(this.prop+d),this.i=c||0),this},configure:function(a){j(this,a);var d,l,m,n,o,p=!0,q=this.prop;if(this.uid=ib++,null==this.verge&&(this.verge=k(lb,500)),!(this.fn=fb[q]))throw new TypeError(\"@create\");if(null==this.dynamic&&(this.dynamic=\"device\"!==q.slice(0,6)),this.custom=gb[q],m=this.prefix?i(e(f(this.prefix),b)):[\"min-\"+q+\"-\"],n=1<m.length?m.slice(1):0,this.prefix=m[0],l=this.breakpoints,db(l)){if(g(l,function(a){if(!a&&0!==a)throw\"invalid breakpoint\";p=p&&isFinite(a)}),p&&l.sort(c),!l.length)throw new TypeError(\".breakpoints\")}else if(l=eb[q]||eb[q.split(\"-\").pop()],!l)throw new TypeError(\".prop\");if(this.breakpoints=l,this.keys=h(this.breakpoints,this.prefix),this.aka=null,n){for(o=[],d=n.length;d--;)o.push(h(this.breakpoints,n[d]));this.aka=o,this.keys=ab.apply(this.keys,o)}return hb.all=hb.all.concat(hb[this.uid]=this.keys),this},target:function(){return this.$e=a(v(hb[this.uid])),E(this.$e,S),this.keys.push(S),this},decideValue:function(){for(var a=null,b=this.breakpoints,c=b.length,d=c;null==a&&d--;)this.fn(b[d])&&(a=this.values[d]);return this.newValue=\"string\"==typeof a?a:this.values[c],this},prepareData:function(b){if(this.$e=a(b),this.mode=D(b),this.values=F(this.$e,this.keys),this.aka)for(var c=this.aka.length;c--;)this.values=j(this.values,F(this.$e,this.aka[c]));return this.decideValue()},updateDOM:function(){return this.currValue===this.newValue?this:(this.currValue=this.newValue,0<this.mode?this.$e[0].setAttribute(\"src\",this.newValue):null==this.newValue?this.$e.empty&&this.$e.empty():this.$e.html?this.$e.html(this.newValue):(this.$e.empty&&this.$e.empty(),this.$e[0].innerHTML=this.newValue),this)}}}(),fb.width=Cb,fb.height=Db,fb[\"device-width\"]=Eb.band,fb[\"device-height\"]=Eb.wave,fb[\"device-pixel-ratio\"]=l,N={deviceMin:function(){return mb},deviceMax:function(){return lb},noConflict:L,create:K,addTest:G,datatize:n,camelize:m,render:o,store:E,access:F,target:w,object:ub,crossover:I,action:J,resize:H,ready:W,affix:h,sift:i,dpr:l,deletes:u,scrollX:x,scrollY:y,deviceW:nb,deviceH:ob,device:Eb,inX:A,inY:B,route:k,merge:j,media:yb,mq:zb,wave:Db,band:Cb,map:e,each:g,inViewport:C,dataset:t,viewportH:Bb,viewportW:Ab},W(function(){var b=t(U.body,\"responsejs\"),c=T.JSON&&JSON.parse||a.parseJSON;b=b&&c?c(b):b,b&&b.create&&K(b.create),V.className=V.className.replace(/(^|\\s)(no-)?responsejs(\\s|$)/,\"$1$3\")+\" responsejs \"}),N});","angular.module(\"Slider.services\").\r\n\r\nfactory(\"SliderHelper\", function () {\r\n    \r\n    var slides = [],\r\n        activeSlide = null,\r\n        transitioningSlide = null,\r\n        isTransitioning = false;\r\n    \r\n    function animateSlide() {\r\n        var width = transitioningSlide.width(),\r\n            tl = new TimelineLite({onComplete: onCompleteAnimation});\r\n        \r\n        tl.to(activeSlide, 0.650, { scale: 1.5, clearProps: \"scale\", ease: Power4.easeOut }, \"active\").\r\n        from(transitioningSlide, 0.500, { left: width, opacity: 0.35 }, { left: 0, opacity: 1, ease: Power2.easeOut }, \"+=150\");\r\n        \r\n        isTransitioning = true;\r\n        tl.play();\r\n    }\r\n    \r\n    function onCompleteAnimation() {\r\n        activeSlide.css(\"transform\", \"none\");\r\n        \r\n        transitioningSlide.removeClass(\"transitioning\").addClass(\"active\");\r\n        activeSlide.removeClass(\"active\");\r\n//        activeSlide.attr(\"style\", \"\");\r\n        \r\n//        console.log(transitioningSlide, activeSlide);\r\n        \r\n        activeSlide = transitioningSlide;\r\n        transitioningSlide = null;\r\n        \r\n        isTransitioning = false;\r\n    }\r\n    \r\n    return {\r\n        prevBtn: null,\r\n        nextBtn: null,\r\n        addSlide: function (element) {\r\n            slides.push(element);\r\n        },\r\n        setActiveSlide: function (element) {\r\n            activeSlide = element;\r\n        },\r\n        activateSlide: function (index) {\r\n            var slide = slides[index];\r\n            \r\n            slide.addClass(\"transitioning\");\r\n            transitioningSlide = slide;\r\n            \r\n            animateSlide();\r\n        },\r\n        isTransitionRuning: function()  { \r\n            return isTransitioning;\r\n        },\r\n        hideNavButtons: function () {\r\n            var tl = new TimelineLite();\r\n            \r\n            tl.to(this.prevBtn, 0.35, { opacity: 0, ease: Power2.easeOut }, \"prev\").\r\n                to(this.nextBtn, 0.35, { opacity: 0, ease: Power2.easeOut }, \"prev\");\r\n            \r\n            tl.play();\r\n        },\r\n        showNavButtons: function () {\r\n            var tl = new TimelineLite();\r\n\r\n            tl.to(this.prevBtn, 0.35, { opacity: 1, ease: Power2.easeOut }, \"prev\").\r\n            to(this.nextBtn, 0.35, { opacity: 1, ease: Power2.easeOut }, \"prev\");\r\n\r\n            tl.play();\r\n        }\r\n    }\r\n});","angular.module(\"Slider.services\").\r\n\r\nfactory(\"Thumb\", function () {\r\n    return function () {\r\n        return {\r\n            id: null,\r\n            element: null\r\n        }\r\n    }\r\n});","angular.module(\"Slider.services\").\r\n\r\nfactory(\"ThumbsHelper\", [\"Thumb\", \"ThumbsRender\", \"ThumbsInfiniteRender\", \"SliderHelper\", function (Thumb, Render, InfiniteRender, SliderHelper) {\r\n    // Private\r\n    var thumbWidth = 0,\r\n        thumbLeftOffset = 0,\r\n        container = null,\r\n        containerWidth = 0,\r\n        containerCenter = 0,\r\n        halfContainer = 0,\r\n        maxThumbs = 0,\r\n        thumbs = [],\r\n        selectedID = null,\r\n        activeThumb = null;\r\n    \r\n    function calculateSizes(firstThumb) {\r\n        var el = null;\r\n        \r\n        if ( angular.isUndefined(firstThumb) ) {\r\n            el = thumbs[0].element;\r\n        } else {\r\n            el = firstThumb;\r\n        }\r\n        \r\n        containerWidth = container.outerWidth(true);\r\n        containerCenter = parseInt(containerWidth / 2);\r\n        halfContainer = containerCenter;\r\n        thumbWidth = el.outerWidth(true);\r\n        thumbLeftOffset = parseInt(thumbWidth / 2) * -1;\r\n        maxThumbs = Math.round(containerWidth / thumbWidth);        \r\n    }\r\n    function makeRender() {\r\n        if (thumbs.length > maxThumbs) {\r\n            InfiniteRender.render(thumbs, maxThumbs, selectedID, thumbWidth, containerWidth);            \r\n        } else {\r\n            var self = this;\r\n            thumbs.forEach(function (thumb) {\r\n                Render.renderThumb(thumb, thumbs.length, thumbWidth, containerWidth);\r\n            });            \r\n        }        \r\n    }\r\n\r\n    // Public\r\n    return {\r\n        thumbCount: 0,\r\n            \r\n        // methods\r\n        setSelectedID: function (id) {\r\n            selectedID = id;\r\n        },\r\n        setActiveThumb: function (thumbElement) {\r\n            activeThumb = thumbElement;\r\n        },\r\n        getActiveThumb: function () {\r\n            return activeThumb;\r\n        },\r\n        getThumbs: function () {\r\n            return thumbs;\r\n        },\r\n        setUp: function () {\r\n            // get first thumb element\r\n            var el = thumbs[0].element;\r\n\r\n            container = el.closest(\"ul\");\r\n            \r\n            calculateSizes(el);\r\n            makeRender();\r\n            \r\n//            container.on(\"resize\", function () {\r\n//                console.log(\"Basi Mamata\");\r\n//            });\r\n            \r\n            Response.create({\r\n                prop: \"width\",\r\n                breakpoints: [1200, 992, 768]\r\n            });\r\n            \r\n            Response.crossover(\"width\", function () {\r\n                if (Response.band(1200) || Response.band(992) || Response.band(768)) {\r\n                    calculateSizes();\r\n                    makeRender();\r\n                }\r\n            });\r\n        },\r\n        addThumbWithId: function (id, el) {\r\n            var thumb = new Thumb();\r\n            \r\n            thumb.id = id;\r\n            thumb.element = $(el);\r\n            \r\n            thumbs.push(thumb);             \r\n        },\r\n        selectThumb: function () {\r\n            InfiniteRender.selectThumbWithID(selectedID);\r\n            SliderHelper.activateSlide(selectedID);\r\n        },\r\n        makeSelectionForNewID: function (newID) {            \r\n            this.getActiveThumb().removeClass(\"active\");\r\n            var newActiveThumb = thumbs[newID].element;\r\n            newActiveThumb.addClass(\"active\");\r\n            selectedID = newID;\r\n\r\n            this.setActiveThumb(newActiveThumb);\r\n            this.selectThumb(); \r\n        },\r\n        selectNextThumb: function () {\r\n            var newID = selectedID + 1;\r\n            \r\n            if (newID > (thumbs.length - 1)) {\r\n                newID = 0;\r\n            }\r\n            \r\n            this.makeSelectionForNewID(newID);       \r\n        },\r\n        selectPrevThumb: function () {\r\n            var newID = selectedID - 1;\r\n            \r\n            if (newID < 0) {\r\n                newID = thumbs.length - 1;\r\n            }\r\n            \r\n            this.makeSelectionForNewID(newID);\r\n        }\r\n    }\r\n}]);","angular.module(\"Slider.services\").\r\n\r\nfactory(\"ThumbsInfiniteRender\", function () {\r\n    // Private\r\n    var thumbs = [],\r\n        visibleIDs = [],\r\n        containerWidth = 0,\r\n        maxThumbs = 0,\r\n        thumbsForCleaning = [],\r\n        thumbWidth = 0;\r\n    \r\n    function getVisibleThumbs() {\r\n        var thumbsClone = thumbs.slice(0);\r\n        var visibleThumbs = [];\r\n\r\n        visibleIDs.forEach(function (id) {            \r\n            var thumb = thumbs[id];\r\n            var index = thumbsClone.indexOf(thumb);\r\n\r\n            thumbsClone.splice(index, 1);\r\n            visibleThumbs.push(thumb);\r\n        });\r\n        \r\n        hideThumbs(thumbsClone);\r\n        \r\n        return visibleThumbs;\r\n    }\r\n    function hideThumbs(thumbs) {\r\n        var hideLeft = (thumbWidth) * -1;\r\n        \r\n        thumbs.forEach(function (thumb) {\r\n            thumb.element.css(\"left\", hideLeft);\r\n        });\r\n    }\r\n    function placeThumbs() {\r\n        var visibleThumbs = getVisibleThumbs(),\r\n            startX = getStartX(visibleThumbs.length);\r\n        \r\n        visibleThumbs.forEach(function (thumb, index) {\r\n            var left = getLeftForVisibleThumb(startX, index);\r\n//            console.log(left);\r\n                        \r\n            thumb.element.css(\"left\", left);\r\n        });\r\n        \r\n        oldVisibleThumbs = visibleThumbs;\r\n    }\r\n    function getStartX(visibleThumbsCount) {\r\n        return (containerWidth - visibleThumbsCount * thumbWidth) / 2\r\n    }\r\n    function getLeftForVisibleThumb(startX, index) {\r\n        return startX + (thumbWidth * index);\r\n    }\r\n    function collectRightAndLeftIDs(selectedID) {\r\n        var maxSideThumbs = Math.round(maxThumbs / 2),\r\n            rightIDs = [],\r\n            leftIDs = [],\r\n            thumbsCount = thumbs.length;\r\n        \r\n        // collect right and left ID's \r\n        for (var count = 1; count <= maxSideThumbs; count++) {\r\n\r\n            // right\r\n            var id = (selectedID + count) % thumbsCount;\r\n            rightIDs.push(id);\r\n\r\n            // left\r\n            id = (selectedID - count) % thumbsCount;\r\n            if (id < 0) {\r\n                id = thumbsCount + id;\r\n            }\r\n\r\n            leftIDs.push(id);\r\n        }\r\n\r\n        leftIDs.reverse().push(selectedID);\r\n        visibleIDs = leftIDs.concat(rightIDs);\r\n    }\r\n    \r\n    // Public\r\n    return {\r\n        render: function (allThumbs, maxThumbsCount, selectedID, thWidth, cntWidth) {\r\n            thumbs = allThumbs;\r\n            thumbWidth = thWidth;\r\n            containerWidth = cntWidth;\r\n            maxThumbs = maxThumbsCount;\r\n            \r\n            collectRightAndLeftIDs(selectedID);\r\n            placeThumbs();\r\n        },\r\n        selectThumbWithID: function (selectedID) {\r\n            collectRightAndLeftIDs(selectedID);\r\n            \r\n            placeThumbs();\r\n        }\r\n    }\r\n});","angular.module(\"Slider.services\").\r\n\r\nfactory(\"ThumbsRender\", function () {\r\n    \r\n    return {\r\n        renderThumb: function (thumb, thumbsCount, thumbWidth, containerWidth) {\r\n            var id = thumb.id;\r\n            var position = id * thumbWidth;\r\n            var numOfThumbs = thumbsCount;\r\n            var thumbsWidth = thumbWidth * numOfThumbs;\r\n            var startLeft = ~~((containerWidth - thumbsWidth) / 2); \r\n            var thumbLeft = startLeft + position;\r\n\r\n            //        console.log(\"Position: \" + position + \" Count: \" + numOfThumbs + \" Width: \" + thumbsWidth + \" Start: \" + startLeft);\r\n\r\n            thumb.element.css(\"left\", thumbLeft);\r\n        }\r\n    }\r\n});"]}