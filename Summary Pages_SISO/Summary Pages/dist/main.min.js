angular.module("Slider",["Slider.controllers","Slider.directives","Slider.services"]),angular.module("Slider.controllers",[]),angular.module("Slider.directives",[]),angular.module("Slider.services",[]),angular.module("Slider.controllers").controller("AppController",["$scope","SliderHelper","ThumbsHelper",function(a,b,c){a.SliderHelper=b,a.ThumbsHelper=c}]),angular.module("Slider.controllers").controller("ThumbnailCtrl",["$scope","ThumbsHelper","SliderHelper",function(a,b,c){a.ThumbsHelper=b,a.activateThumb=function(a){var d=b.getThumbs();c.isTransitionRuning()||d.forEach(function(c){c.element.is($(a.currentTarget))&&(c.element.hasClass("active")||(b.setSelectedID(c.id),b.getActiveThumb().removeClass("active"),c.element.addClass("active"),b.setActiveThumb(c.element),b.selectThumb()))})}}]),angular.module("Slider.directives").directive("image",function(){return{restrct:"A",link:function(a,b){var c=$(b);c.hasClass("active")&&a.SliderHelper.setActiveSlide(c),a.SliderHelper.addSlide(c)}}}),angular.module("Slider.directives").directive("sliderNav",function(){return{restrict:"A",link:function(a,b){var c=$(b);c.hasClass("prev")&&(a.SliderHelper.prevBtn=b,c.on("click",function(){a.SliderHelper.isTransitionRuning()||a.ThumbsHelper.selectPrevThumb()})),c.hasClass("next")&&(a.SliderHelper.nextBtn=b,c.on("click",function(){a.SliderHelper.isTransitionRuning()||a.ThumbsHelper.selectNextThumb()}))}}}),angular.module("Slider.directives").directive("sliderTouch",function(){return{restrict:"A",link:function(a,b){var c=$(b);c.swipe({swipeStatus:function(b,c,d,e){"end"==c&&(a.SliderHelper.isTransitionRuning()||("left"===d&&a.ThumbsHelper.selectPrevThumb(),"right"===d&&a.ThumbsHelper.selectNextThumb()))},triggerOnTouchEnd:!1,triggerOnTouchLeave:!0,threshold:150})}}}),angular.module("Slider.directives").directive("thumb",function(){return{restrict:"A",link:function(a,b,c){var d=null;0==a.ThumbsHelper.thumbCount?(d=0,a.ThumbsHelper.addThumbWithId(d,b),a.ThumbsHelper.thumbCount++):(d=a.ThumbsHelper.thumbCount++,a.ThumbsHelper.addThumbWithId(d,b)),angular.isUndefined(c.isLast)||"true"!==c.isLast||a.ThumbsHelper.setUp(),b.hasClass("active")&&(a.ThumbsHelper.setSelectedID(d),a.ThumbsHelper.setActiveThumb($(b)))}}}),angular.module("Slider.directives").directive("video",function(){return{restrict:"A",link:function(a,b){var c=b.get(0);c.addEventListener("pause",function(){a.SliderHelper.showNavButtons()}),c.addEventListener("playing",function(){a.SliderHelper.hideNavButtons()}),c.addEventListener("ended",function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()})}}}),angular.module("Slider.services").factory("SliderHelper",function(){function a(){var a=e.width(),c=new TimelineLite({onComplete:b});c.to(d,.65,{scale:1.5,clearProps:"scale",ease:Power4.easeOut},"active").from(e,.5,{left:a,opacity:.35},{left:0,opacity:1,ease:Power2.easeOut},"+=150"),f=!0,c.play()}function b(){d.css("transform","none"),e.removeClass("transitioning").addClass("active"),d.removeClass("active"),d=e,e=null,f=!1}var c=[],d=null,e=null,f=!1;return{prevBtn:null,nextBtn:null,addSlide:function(a){c.push(a)},setActiveSlide:function(a){d=a},activateSlide:function(b){var d=c[b];d.addClass("transitioning"),e=d,a()},isTransitionRuning:function(){return f},hideNavButtons:function(){var a=new TimelineLite;a.to(this.prevBtn,.35,{opacity:0,ease:Power2.easeOut},"prev").to(this.nextBtn,.35,{opacity:0,ease:Power2.easeOut},"prev"),a.play()},showNavButtons:function(){var a=new TimelineLite;a.to(this.prevBtn,.35,{opacity:1,ease:Power2.easeOut},"prev").to(this.nextBtn,.35,{opacity:1,ease:Power2.easeOut},"prev"),a.play()}}}),angular.module("Slider.services").factory("Thumb",function(){return function(){return{id:null,element:null}}}),angular.module("Slider.services").factory("ThumbsHelper",["Thumb","ThumbsRender","ThumbsInfiniteRender","SliderHelper",function(a,b,c,d){function e(a){var b=null;b=angular.isUndefined(a)?n[0].element:a,j=i.outerWidth(!0),k=parseInt(j/2),l=k,g=b.outerWidth(!0),h=-1*parseInt(g/2),m=Math.round(j/g)}function f(){if(n.length>m)c.render(n,m,o,g,j);else{n.forEach(function(a){b.renderThumb(a,n.length,g,j)})}}var g=0,h=0,i=null,j=0,k=0,l=0,m=0,n=[],o=null,p=null;return{thumbCount:0,setSelectedID:function(a){o=a},setActiveThumb:function(a){p=a},getActiveThumb:function(){return p},getThumbs:function(){return n},setUp:function(){var a=n[0].element;i=a.closest("ul"),e(a),f(),Response.create({prop:"width",breakpoints:[1200,992,768]}),Response.crossover("width",function(){(Response.band(1200)||Response.band(992)||Response.band(768))&&(e(),f())})},addThumbWithId:function(b,c){var d=new a;d.id=b,d.element=$(c),n.push(d)},selectThumb:function(){c.selectThumbWithID(o),d.activateSlide(o)},makeSelectionForNewID:function(a){this.getActiveThumb().removeClass("active");var b=n[a].element;b.addClass("active"),o=a,this.setActiveThumb(b),this.selectThumb()},selectNextThumb:function(){var a=o+1;a>n.length-1&&(a=0),this.makeSelectionForNewID(a)},selectPrevThumb:function(){var a=o-1;0>a&&(a=n.length-1),this.makeSelectionForNewID(a)}}}]),angular.module("Slider.services").factory("ThumbsInfiniteRender",function(){function a(){var a=g.slice(0),c=[];return h.forEach(function(b){var d=g[b],e=a.indexOf(d);a.splice(e,1),c.push(d)}),b(a),c}function b(a){var b=-1*k;a.forEach(function(a){a.element.css("left",b)})}function c(){var b=a(),c=d(b.length);b.forEach(function(a,b){var d=e(c,b);a.element.css("left",d)}),oldVisibleThumbs=b}function d(a){return(i-a*k)/2}function e(a,b){return a+k*b}function f(a){for(var b=Math.round(j/2),c=[],d=[],e=g.length,f=1;b>=f;f++){var i=(a+f)%e;c.push(i),i=(a-f)%e,0>i&&(i=e+i),d.push(i)}d.reverse().push(a),h=d.concat(c)}var g=[],h=[],i=0,j=0,k=0;return{render:function(a,b,d,e,h){g=a,k=e,i=h,j=b,f(d),c()},selectThumbWithID:function(a){f(a),c()}}}),angular.module("Slider.services").factory("ThumbsRender",function(){return{renderThumb:function(a,b,c,d){var e=a.id,f=e*c,g=b,h=c*g,i=~~((d-h)/2),j=i+f;a.element.css("left",j)}}});
//# sourceMappingURL=main.min.js.map