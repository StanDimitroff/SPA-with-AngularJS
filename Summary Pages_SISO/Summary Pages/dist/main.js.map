{"version":3,"file":"main.js","sources":["../src/angular/page/page.js","../src/angular/page/controllers/_summary-data.js","../src/angular/page/services/http.js"],"names":["angular","module","controller","$scope","http","data","Params","dealer","Dealer","reference","Reference","u","User","post","success","console","log","factory","$http","handleError","error","status","headers","config","statusText","isJson","location","window","replace","reload","args","url","arguments","TokenID","sessionTokenID","dataType","method","Content-Type","withCredentials","result"],"mappings":"AAAAA,QAAQC,OAAO,UACX,oBACA,oBAIJD,QAAQC,OAAO;AAEfD,QAAQC,OAAO,sBCRfD,QAAQC,OAAO,oBAEdC,WAAW,iBAAgB,UAAU,cACtC,SAAUC,QAAQC;IAEhB,IAAIC;QACFC;YACEC,QAAUC;YACVC,WAAaC;YACbC,GAAKC;;;IAITR,KAAKS,KAAK,uDAAuDR,MAChES,QAAQ,SAAUT;QACjBU,QAAQC,IAAIX;;MCfhBL,QAAQC,OAAO,iBAEdgB,QAAQ,gBAAe,SAAS,SAAUC;IAyCzC,SAASC,YAAYC,OAAOC,QAAQC,SAASC,QAAQC;QAChD,IAAIC,SAAoC,qCAA3BH,QAAQ;QAQrB,IAP+B,mBAApB,mBACPG,UAAS,IAEC,OAAVJ,UAAkBI,WAClBJ,SAAS;QAGTA,UAAU,OAAiB,OAAVA,QAAe;YAChC,IAAIK,WAAWJ,QAAQ;YAMvB,OALgB,QAAZI,aACAA,WAAW,WAGfC,OAAOD,SAASE,QAAQF;;QAGT,OAAVL,UAA2B,OAAVA,UACtBN,QAAQC,IAAI,8BACZW,OAAOD,SAASG,YAED,OAAVR,SAEDN,QAAQC,IADRS,SACYL,QAGAI,cAGD,OAAVH,UACLN,QAAQC,IAAII,QAAQA,QAAQI;;IAvErC,IAAIpB;IA6EJ,OA3EAA,KAAKS,OAAO,SAAUiB;QACpB,IAAIC,MAAM,MACT1B,OAAO2B,UAAU;QAQlB,OAN4B,mBAAjBA,UAAU,OAAiBD,MAAMC,UAAU,KAC1B,mBAAjBA,UAAU,OACjBD,MAAMC,UAAU,GAAGD;QACnB1B,OAAO2B,UAAU,GAAG3B,OAGb,QAAP0B,OAC8B,mBAApB,mBACN1B,KAAK4B,UAAUC;QAEZhB;YACHa,KAAKA;YACLI,UAAU;YACVC,QAAQ;YACR/B,MAAMA;YACNiB;gBACIe,gBAAgB;;YAEpBC,kBAAiB;WAExBxB,QAAQ,SAAUyB,QAAQlB,QAAQC,SAASC;YACR,qCAA3BD,QAAQ,mBAAmF,mBAApB,kBACvEH,YAAYoB,QAAQlB,QAAQC,SAASC,QAAQ;WAGrDH,MAAM,SAAUA,OAAOC,QAAQC,SAASC,QAAQC;YAC5CL,YAAYC,OAAOC,QAAQC,SAASC,QAAQC;mBAI7CT,QAAQC,IAAI;OAyCXZ","sourcesContent":["angular.module('Page', [\r\n    'Page.controllers',\r\n    'Page.services'\r\n]);\r\n\r\n// Controllers module\r\nangular.module('Page.controllers', []);\r\n// Services module\r\nangular.module('Page.services', []);\r\n","angular.module('Page.controllers')\r\n\r\n.controller('SummaryData', ['$scope', 'Utils.http',\r\nfunction ($scope, http) {\r\n\r\n  var data = {\r\n    \"Params\": {\r\n      \"dealer\": Dealer,\r\n      \"reference\": Reference,\r\n      \"u\": User\r\n    }\r\n  };\r\n\r\n  http.post(\"https://api.devvideo1st.com/Video1st/GetSummaryData\", data)\r\n  .success(function (data) {\r\n    console.log(data);\r\n  });\r\n\r\n}]);\r\n","angular.module('Page.services')\r\n\r\n.factory('Utils.http', ['$http', function ($http) {\r\n  var http = {};\r\n\r\n  http.post = function (args) {\r\n    var url = null,\r\n    \tdata = arguments[1];\r\n\r\n    if (typeof arguments[0] === \"string\") url = arguments[0];\r\n    if (typeof arguments[0] === \"object\") {\r\n        url = arguments[0].url;\r\n        data = arguments[0].data;\r\n    }\r\n\r\n    if (url != null) {\r\n        if (typeof(sessionTokenID) == \"string\") {\r\n            data.TokenID = sessionTokenID;\r\n        }\r\n        return $http({\r\n            url: url,\r\n            dataType: \"json\",\r\n            method: \"POST\",\r\n            data: data,\r\n            headers: {\r\n                \"Content-Type\": \"text/plain\"\r\n            },\r\n            withCredentials: true\r\n        }).\r\n    \tsuccess(function (result, status, headers, config) {\r\n    \t    if (headers(\"Content-type\") != \"application/json; charset=utf-8\" && typeof (sessionTokenID) != \"string\") {\r\n    \t        handleError(result, status, headers, config, \"OK\");\r\n    \t    }\r\n    \t}).\r\n    \terror(function (error, status, headers, config, statusText) {\r\n    \t    handleError(error, status, headers, config, statusText);\r\n    \t});\r\n    }\r\n    else {\r\n        console.log(\"http.url can't be null\");\r\n    }\r\n  }\r\n\r\n  function handleError(error, status, headers, config, statusText) {\r\n       var isJson = headers(\"Content-type\") == \"application/json; charset=utf-8\";\r\n       if (typeof (sessionTokenID) == \"string\") {\r\n           isJson = true;\r\n       }\r\n       if (status == 200 && !isJson) {\r\n           status = 302;\r\n       }\r\n\r\n       if (status >= 300 && status <= 310) {\r\n           var location = headers(\"Location\");\r\n           if (location == null) {\r\n               location = \"/\";\r\n           }\r\n\r\n           window.location.replace(location);\r\n           return;\r\n       }\r\n       else if (status == 401 || status == 403) {\r\n           console.log('Your session has timeout.')\r\n           window.location.reload()\r\n       }\r\n       else if (status == 405) {\r\n           if (isJson) {\r\n               console.log(error);\r\n           }\r\n           else {\r\n               console.log(statusText);\r\n           }\r\n       }\r\n       else if (status != 406) {\r\n           console.log(error ? error : statusText);\r\n       }\r\n\r\n      //  Error.openModal();\r\n   }\r\n\r\n  return http;\r\n}]);\r\n"]}